LOAD "testlib.lgo

TO ARRAYTOLISTTEST.SMOKETEST

   ; Basic tests
   SIMPLEREPORTTEST [ ARRAYTOLIST {a b c} ] [a b c]
   SIMPLEREPORTTEST [ ARRAYTOLIST {1 abc} ] [1 abc]

   ; Empty array (Bug #505)
   SIMPLEREPORTTEST [ ARRAYTOLIST {} ] []

   ; Origin is ignored
   SIMPLEREPORTTEST [ ARRAYTOLIST {1 2 3}@5  ] [1 2 3]
   SIMPLEREPORTTEST [ ARRAYTOLIST {1 2 3}@-5 ] [1 2 3]

END

TO ARRAYTOLISTTEST.BADINPUT

   RUNNOTENOUGHINPUTSTEST [(ARRAYTOLIST)]
   RUNTOOMANYINPUTSTEST   [(ARRAYTOLIST {1 2 3} "toomany)]

   ; bad input
   RUNDOESNTLIKEINPUTTEST [ ARRAYTOLIST [a b c] ]
   RUNDOESNTLIKEINPUTTEST [ ARRAYTOLIST "abc    ]
   RUNDOESNTLIKEINPUTTEST [ ARRAYTOLIST 123     ]
   RUNDOESNTLIKEINPUTTEST [ ARRAYTOLIST 12.3    ]

END

TO ARRAYTOLISTTEST
   ARRAYTOLISTTEST.SMOKETEST
   ARRAYTOLISTTEST.BADINPUT
END
